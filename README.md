# PageRank Email Analysis

åŸºäº PageRank ç®—æ³•æŒ–æ˜å¸Œæ‹‰é‡Œé‚®ä»¶ä¸­çš„æ ¸å¿ƒäººç‰©å…³ç³»ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

æœ¬é¡¹ç›®æ¨èä½¿ç”¨ [uv](https://docs.astral.sh/uv/) æˆ– [Task](https://taskfile.dev/) è¿›è¡Œé«˜æ•ˆç®¡ç†ã€‚

### 1. å®‰è£…ä¸è®¾ç½®

#### é€‰é¡¹ Aï¼šä½¿ç”¨ uv (æ¨è - æé€Ÿ)

å¦‚æœä½ å°šæœªå®‰è£… `uv`ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¿«é€Ÿå®‰è£…ï¼š

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

ç„¶ååœ¨é¡¹ç›®ç›®å½•ä¸‹åŒæ­¥ç¯å¢ƒï¼š

```bash
uv sync
```

#### é€‰é¡¹ Bï¼šä½¿ç”¨åŸç”Ÿ Python & pip

å¦‚æœæ‚¨ä¹ æƒ¯ä½¿ç”¨ä¼ ç»Ÿæ–¹å¼ï¼š

```bash
# åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Linux/macOS
# .venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. è¿è¡Œåˆ†æ

æ‰§è¡Œæ ¸å¿ƒåˆ†æè„šæœ¬å¹¶ç”Ÿæˆå…³ç³»å›¾ï¼š

```bash
task run
# æˆ–è€…ç›´æ¥ä½¿ç”¨ uv
uv run pagerank
```

### 3. æŸ¥çœ‹ç»“æœ

åˆ†æç»“æœï¼ˆå…³ç³»å›¾ï¼‰å°†è‡ªåŠ¨ä¿å­˜è‡³ï¼š
`output/pagerank_core.png`

---

## ğŸ› ï¸ ç®¡ç†å‘½ä»¤ (Taskfile)

æœ¬é¡¹ç›®æä¾›äº†å†…ç½®çš„ Taskfileï¼Œæ–¹ä¾¿è¿›è¡Œå„ç§æ“ä½œï¼š

| å‘½ä»¤              | æè¿°                                                                           |
| :---------------- | :----------------------------------------------------------------------------- |
| `task setup`      | ä½¿ç”¨ uv å®‰è£…é¡¹ç›®æ‰€æœ‰ä¾èµ–                                                       |
| `task run`        | åœ¨æœ¬åœ°è¿è¡Œ PageRank åˆ†æ                                                       |
| `task clean`      | **æ¸…ç†**ï¼šåˆ é™¤è™šæ‹Ÿç¯å¢ƒ `.venv`ã€æ„å»ºäº§ç‰©ã€ç¼“å­˜æ–‡ä»¶åŠ `output` ä¸‹çš„æ‰€æœ‰å›¾ç‰‡ç»“æœ |
| `task docker:run` | **Docker**ï¼šæ„å»ºé•œåƒå¹¶è¿è¡Œå®¹å™¨ï¼Œç»“æœè‡ªåŠ¨åŒæ­¥åˆ°æœ¬åœ° `output` ç›®å½•               |
| `task check`      | æ£€æŸ¥å½“å‰ Python ç¯å¢ƒå’Œå·²å®‰è£…çš„åŒ…                                               |

---

## ğŸ³ Docker ç‹¬ç«‹æµ‹è¯•

å¦‚æœä½ å¸Œæœ›åœ¨å®Œå…¨éš”ç¦»çš„ç¯å¢ƒä¸­æµ‹è¯•ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# æ„å»ºé•œåƒå¹¶è¿è¡Œï¼ˆè‡ªåŠ¨æ˜ å°„è¾“å‡ºæ–‡ä»¶å¤¹ï¼‰
task docker:run

# æˆ–è€…æ‰‹åŠ¨æ‰§è¡Œ
docker build -t pagerank .
docker run --rm -v "$(pwd)/output:/app/output" pagerank
```

## ğŸ§¹ æ¸…ç†è¿è¡Œäº§ç”Ÿçš„æ–‡ä»¶

å¦‚æœè¦å½»åº•æ¸…ç†è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„è™šæ‹Ÿç¯å¢ƒã€ç¼“å­˜å’Œç»“æœå›¾ç‰‡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# ä½¿ç”¨ Taskfile (æ¨è)
task clean

# æˆ–è€…æ‰‹åŠ¨æ¸…ç†
rm -rf .venv
rm -rf output/*
find . -name "__pycache__" -type d -exec rm -rf {} +
```

---

## ğŸ“Š ç¯å¢ƒè¦æ±‚

- Python >= 3.12
- æ¨èä½¿ç”¨ Linux (WSL2) ç¯å¢ƒ
- å·²å®‰è£… [uv](https://docs.astral.sh/uv/) å’Œ [Task](https://taskfile.dev/) (å¯é€‰ï¼Œä½†æ¨è)
